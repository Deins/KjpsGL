<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>KjpsGL: Kjps Graphics Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_transparent.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">KjpsGL
   </div>
   <div id="projectbrief">KJPS Graphics Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Ģenerēts ar Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Meklēt');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Sākumlapa</span></a></li>
      <li><a href="namespaces.html"><span>Nosaukumvietas</span></a></li>
      <li><a href="annotated.html"><span>Klases</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Meklēt" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Visi</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Klases</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Nosaukumvietas</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Funkcijas</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Mainīgie</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Uzskaitījumi</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Lapas</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Kjps Graphics Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>KjpsGL ir ļoti vienkārša c++ bibliotēka kas piedāvā vienkāršas 2d grafikas zīmēšanas iespējas. Šī ir KjpsGL dokumentācija. Funkciju dokumentācija atrodama sadaļā nosaukumvietas/kjpsgl.</p>
<h1><a class="anchor" id="config"></a>
Bibliotēkas kompilēšana un iekļaušana projektā</h1>
<p>Pati bibliotēka sastāv tikai no 2 failiem <a class="el" href="kjps_g_l_8hpp_source.html">kjpsGL.hpp</a> un kjpsGL.cpp. Taču tā izmanto sevī 3 citas bibliotēkas kas arī ir jāiekļauj projektā lai tā strādātu: SDL2, OpenGL 1.1 un lode png. SDL2 bibliotēka tiek izmantota lai nodrošinātu loga izveidi, ievadu (tastatūras, peles) u.c. darbībām OpenGL tiek izmantots grafikas zīmēšanai Lode PNG tiek izmantots lai nolasītu png attēla formātu.</p>
<p>Es piedāvāju jau gatavu codeblocks projektu ar jau uzbūvētām bibliotēkām (priekš win GCC kompilatora). Citām vidēm/kompilatoriem/ build sistēmām konfigurēšana jāveic pašiem. SDL2 un OpenGL kompilēšanas/linkošanas informācija atrodama internetā. Lode png un pašu kjpsGL var vienkārši iekļaut projektā tā pat kā visus citus cpp un header failus.</p>
<h1><a class="anchor" id="basics"></a>
KjpsGL pamati</h1>
<p>Visa bibliotēka ir kjpsgl nosaukumvietā, tādēļ lai izsauktu kādu bibliotēkas funkciju jāraksta tai priekšā kjpsgl:: piem </p><div class="fragment"><div class="line">kjpsgl::funkcijasNosaukums();</div>
</div><!-- fragment --><p> vai jāizmanto </p><div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacekjpsgl.html">kjpsgl</a>;</div>
</div><!-- fragment --><p> Neaizmirsti arī, ka visos failos kuros izmanto kjpsGL iekļaut pie includes: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;kjpsGL.hpp&quot;</span></div>
</div><!-- fragment --><p>Bibliotēkai ir 2 galvēnās funkcijas kas ir jāizsauc lai bibliotēka pareizi darbotos.</p><ol type="1">
<li><a class="el" href="namespacekjpsgl.html#ae6175b179d3f2ffc572b879a8b0665c8" title="Inicializē bibliotēku un izveido zīmēšanas logu. ">kjpsgl::init()</a> Tā ir jāizsauc lai inicializētu bibliotēku un izveidotu zīmēšanas logu. To drīkst izsaukt tikai 1 reizi un tā ir jāizsauc pirms jebkuras citas bibliotēkas funkcijas. (parasti pašā programmas sākumā)</li>
<li><a class="el" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383" title="Atsvaidzina bibliotēku. ">kjpsgl::update()</a> Tā ir jāizsauc regulāri lai bibliotēka varētu nolasīt no operētājsistēmas notikušos notikumus. Šī funkcija tādējādi arī nolasa jauno ievadu no tastatūras, peles. (starp 2 update izsaukumiem visas ievad-iegūšanas funkcijas (piem <em><a class="el" href="namespacekjpsgl.html#a0dc86004ab3bc1fbd3253b6b2a6b5875" title="Iegūst peles x pozīciju relatīvi loga apakšējajam kreisajam stūrim. ">kjpsgl::getMouseX()</a></em>,<em><a class="el" href="namespacekjpsgl.html#a152fea540d0e62e4a40bbca6816fead7" title="Uzzina vai kāds tastatūras taustiņš ir nospiests. ">kjpsgl::getKey(const std::string&amp;)</a></em>) atgriezīs to pašu rezultātu) Ja šī funkcija netiek ilgstoši izsaukta, operētājsistēma var parādīt erroru "Programm Not responding"! Šo funkciju parasti izsauc 1reiz katrā kadrā.</li>
<li>Papildus tam vēl viena ļoti svarīga funkcija ir <a class="el" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998" title="Attēlo uzzīmēto uz ekrāna. ">kjpsgl::display()</a>. Šī funkcija ir atbildīga par zīmējuma attēlošanu. Vairāk detaļas lasīt pašas funkcijas dokumentācijā <a class="el" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998" title="Attēlo uzzīmēto uz ekrāna. ">kjpsgl::display()</a></li>
</ol>
<p>Vienkāršs prorammas šablons varētu izskatīties šādi: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;kjpsGL.hpp&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacekjpsgl.html">kjpsgl</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae6175b179d3f2ffc572b879a8b0665c8">init</a>(1024,720); <span class="comment">// inicializējam bibliotēku un atveram 1024x720px logu zīmēšanai</span></div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) <span class="comment">// Daram visu laiku, bibliotēka programmu apturēs ja logā nospiedīs &#39;X&#39;</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383">update</a>(); <span class="comment">// nolasam jauno ievadu (input)</span></div>
<div class="line">        <span class="comment">// ...</span></div>
<div class="line">        <span class="comment">// Zīmējam un daram viskautko šeit</span></div>
<div class="line">        <span class="comment">// ...</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998">display</a>(); <span class="comment">// attēlojam uzzīmēto uz ekrāna</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="drawing"></a>
Zīmēšanas komandas</h2>
<p>Zīmēšanas komandas sākas ar draw, piem. <a class="el" href="namespacekjpsgl.html#af0a6a2efeb46d2cc59596ef8f7ce6a1f" title="Uzzīmē taisnstūri. ">kjpsgl::drawRectangle()</a>, izņemot <a class="el" href="namespacekjpsgl.html#a20758a6f9833df4588703b25300ecb8a" title="Notīra zīmējamo bufferi vienā krāsā. ">kjpsgl::clearScreen()</a>. Visas zīmēšanas komandas tiek izpildītas tādā secībā kādā tās tiek izsauktas. Tas nozīmē, ka vīspirms jāzīmē fons, pēc tam priekšplāns un tamlīdzīgi. Bibliotēka izmanto 32 bitu RGBA krāsu(pārsvarā funkcijas pieņem arī 24 bitu RGB). Tas nozīmē ka visas krāsas tiek atspoguļotas ar 4 skaitļiem, red, green, blue un alpha jeb caurspīdību. Katra no šīm vērtībām ir no 0-255 ieskaitot. Tādēļ krāsu izvēlei var izmantot piem šo rīku: <a href="http://www.colorpicker.com/">http://www.colorpicker.com/</a> Hex vai citi krāsu pieraksti, krāsu modeļi netiek atbalstīti.</p>
<p>Zīmēšanas funkcijām specifiski parametri tiek padoti kā argumenti, taču krāsa vai tekstūra tiek uzstādīta pirms tam izmantojot funkcijas <a class="el" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a" title="Uzstāda zīmēšanas krāsu. ">kjpsgl::setColor()</a> un <a class="el" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830" title="Uzstāda zīmēšanai tekstūru. ">kjpsgl::setTexture()</a>. Vienīgais izņēmums ir <a class="el" href="namespacekjpsgl.html#a20758a6f9833df4588703b25300ecb8a" title="Notīra zīmējamo bufferi vienā krāsā. ">kjpsgl::clearScreen()</a> kam krāsu padod kā argumentus. Šīs funkcijas iestata globālo krāsošanas krāsu vai teksturēšanas tekstūru tādēļ visas komandas pēc šīm divām izmantos tieši to krāsu vai tekstūru.</p>
<p>Piemērs: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;kjpsGL.hpp&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacekjpsgl.html">kjpsgl</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae6175b179d3f2ffc572b879a8b0665c8">init</a>(1024,720); <span class="comment">// inicializējam bibliotēku un atveram 1024x720px logu zīmēšanai</span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a">setColor</a>(255,0,0);</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(128,100,64); <span class="comment">// zīmē sarkanu apli</span></div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a">setColor</a>(0,255,0);</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(128,200,64); <span class="comment">// zīmē zaļu apli</span></div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(128,300,64); <span class="comment">// arī šis būs zaļš, nekas nav mainījies</span></div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a">setColor</a>(0,0,255);</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a64ab047a8fdfe3291c61d2fd050cd108">setLineWidth</a>(16);</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#aebcc999adf6be8c74cfb424dae6db587">drawCircleOutline</a>(128,300,64,64); <span class="comment">// zīmē pēdējam aplim 16px biezu zilu apļa kontūru</span></div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998">display</a>(); <span class="comment">// attēlojam uzzīmēto uz ekrāna</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Gaidam līdz programma tiks aizvērta</span></div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383">update</a>();</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a238757a801479cedbad23652557dbcbd">sleep</a>(100); <span class="comment">// guļam lai nenoslogotu nevajadzīgi cpu</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="texturing"></a>
Tekstūru izmantošana (attēlu attēlošana)</h2>
<p>Lai izmantotu tekstūras vispirms attēls ir jāielasa no faila jāatkodē un jāaizsūta video kartei (jo mēs izmantojam hardware acceleration ar opengl). To visu var izdarīt ar vienu komandu int <a class="el" href="namespacekjpsgl.html#a8de7976019f62c33b60a9cfa8eff16be" title="Ielādē tekstūru. ">kjpsgl::loadTexture(const std::string&amp; failaNosaukums)</a>. Šai funkcijai padod faila nosaukumu (relatīvi no programmas atrašanās vietas vai ar pilno ceļu) tā izdara visas nepieciešamās darbības un atgriež tekstūras identifikatoru (id). Šis tekstūras id ir int tipa mainīgais un tiek izmantots visās citās ar teksturēšanu saistītajās funkcijās lai identificētu tekstūru. Lai uzsāktu teksturēšanu ir jāizsauc <a class="el" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830" title="Uzstāda zīmēšanai tekstūru. ">kjpsgl::setTexture()</a> padodot vēlamās tekstūras id. Lai atslēgtu teksturēšanu jāizsauc <a class="el" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830" title="Uzstāda zīmēšanai tekstūru. ">kjpsgl::setTexture</a>(-1).</p>
<dl class="section warning"><dt>Brīdinājums</dt><dd>Bibliotēka pagaidām atbalsta tikai *.png attēla formātu! </dd></dl>
<dl class="section note"><dt>Piezīme</dt><dd>tiem kas grib izmantot opengl pa tiešo: kjpsgl tekstūras id un opengl tekstūras id var būt atšķirīgi, neizmantojiet opengl komandās kjpsgl tekstūras id.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;kjpsGL.hpp&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacekjpsgl.html">kjpsgl</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae6175b179d3f2ffc572b879a8b0665c8">init</a>(1024,720);</div>
<div class="line">    <span class="comment">// inicializējam bibliotēku utt.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> t1 = loadTexture(<span class="stringliteral">&quot;a.png&quot;</span>); <span class="comment">// ielādējam tekstūru &quot;a.png&quot;</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> t2 = loadTexture(<span class="stringliteral">&quot;b.png&quot;</span>); <span class="comment">// ielādējam tekstūru &quot;b.png&quot;</span></div>
<div class="line">    <span class="comment">// P.S. definējam abus iepriekšējos mainīgos kā const lai kompilators neļautu mums nejauši nomainīt šo vērtību uz citu tādējādi pazaudējot ielādēto tekstūru</span></div>
<div class="line">    <span class="comment">// Kods darbotos arī bez const.</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383">update</a>();</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a">setColor</a>(255,0,0); <span class="comment">// iestata sarkanu krāsu</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(128,100,64); <span class="comment">// zīmē sarkanu apli</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830">setTexture</a>(t1); <span class="comment">// ieslēdzam teksturēšanu</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(128,200,64); <span class="comment">// zīmē sarkanu apli ar &quot;a.png&quot; tekstūru</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a">setColor</a>(255,255,255); <span class="comment">// iestata baltu krāsu</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830">setTexture</a>(t2); <span class="comment">// iestatam &quot;b.png&quot; tekstūru</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(128,300,64); <span class="comment">// zīmē apli ar &quot;b.png&quot; tekstūru, normālā attēla orģinālajās krāsās</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830">setTexture</a>(-1); <span class="comment">// izslēdz teksturēšanu</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998">display</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// aizverot programmu izdzēšam tekstūras</span></div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae7a0b9ec50fb530cea836a997c6682c3">destroyTexture</a>(t1);</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae7a0b9ec50fb530cea836a997c6682c3">destroyTexture</a>(t2);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Teksturēšanai pieejami 3 režīmi: </p><ul>
<li>1 TexturingMode::Stretch izstiepj tekstūru pa visu zīmējamo figūru </li>
<li>2 TexturingMode::Repeat zīmē tekstūru oriģinālajā izmērā un to atkārto </li>
<li>3 TexturingMode::Manual zīmēšanas režīms kas strādā tā pat kā Repeat taču ļauj izstiept un nobīdīt tekstūru izmantojot setTextureRect()</li>
</ul>
<dl class="section see"><dt>Skatīties arī</dt><dd><a class="el" href="namespacekjpsgl.html#add412ad970cac281ebca4ed9e6a40f78" title="Uzstāda teksturēšanas režīmu. ">kjpsgl::setTexturingMode()</a> </dd>
<dd>
<a class="el" href="namespacekjpsgl.html#a9f233b1baec3965d6309723ac9b70d61" title="teksturēšanas režīms ">kjpsgl::TexturingMode</a> </dd>
<dd>
<a class="el" href="namespacekjpsgl.html#aee97001e831e033ebaa5a13415578f1a" title="Uzstāda teksturēšanas apgabalu. Teksturēšanas apgabals ir taisnstūris worldspace koordinatēs (tajās p...">kjpsgl::setTexturingRect()</a></dd></dl>
<p><b>Piemērs:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">    #include &quot;kjpsGL.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacekjpsgl.html">kjpsgl</a>;</div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae6175b179d3f2ffc572b879a8b0665c8">init</a>(1024,720); <span class="comment">// inicializējam bibliotēku un atveram 1024x720px logu zīmēšanai</span></div>
<div class="line">    <span class="keywordtype">int</span> txt = loadTexture(<span class="stringliteral">&quot;data/p1.png&quot;</span>);</div>
<div class="line">    <span class="keywordtype">int</span> txt2 = loadTexture(<span class="stringliteral">&quot;data/p2.png&quot;</span>);</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#a64ab047a8fdfe3291c61d2fd050cd108">setLineWidth</a>(4);</div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) <span class="comment">// Daram visu laiku, bibliotēka programmu apturēs ja logā nospiedīs &#39;X&#39;</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383">update</a>(); <span class="comment">// nolasam jauno ievadu (input)</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a20758a6f9833df4588703b25300ecb8a">clearScreen</a>(0,0,0);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a64ab047a8fdfe3291c61d2fd050cd108">setLineWidth</a>(<a class="code" href="namespacekjpsgl.html#a8ac30ab301705eb90dfee9a73f6f1615">getLineWidth</a>()+<a class="code" href="namespacekjpsgl.html#a7def8093754f51fbaa74940f891b704d">getMouseWheel</a>());</div>
<div class="line">        <span class="keywordflow">if</span> (getKey(<span class="stringliteral">&quot;1&quot;</span>)) <a class="code" href="namespacekjpsgl.html#add412ad970cac281ebca4ed9e6a40f78">setTexturingMode</a>(TexturingMode::Stretch);</div>
<div class="line">        <span class="keywordflow">if</span> (getKey(<span class="stringliteral">&quot;2&quot;</span>)) <a class="code" href="namespacekjpsgl.html#add412ad970cac281ebca4ed9e6a40f78">setTexturingMode</a>(TexturingMode::Repeat);</div>
<div class="line">        <span class="keywordflow">if</span> (getKey(<span class="stringliteral">&quot;3&quot;</span>)) <a class="code" href="namespacekjpsgl.html#add412ad970cac281ebca4ed9e6a40f78">setTexturingMode</a>(TexturingMode::Manual);</div>
<div class="line"></div>
<div class="line">        { <span class="comment">// Uzstādam teksturēšanas apgabalu (redzamst tikai TexturingMode::Manual režīmā)</span></div>
<div class="line">            <span class="keywordtype">float</span> f = <a class="code" href="namespacekjpsgl.html#aa3e72341a7876321003a4abb2bc880a6">getTime</a>()*.1;</div>
<div class="line">            <a class="code" href="namespacekjpsgl.html#aee97001e831e033ebaa5a13415578f1a">setTexturingRect</a>(f,0,<a class="code" href="namespacekjpsgl.html#a69ff6abcf9fb425092fff273fc611273">getWindowHeight</a>()*.1f+f,<a class="code" href="namespacekjpsgl.html#aa5c5ea5a9674cfd977dd05c3cd57eef7">getWindowWidth</a>()*.1f);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830">setTexture</a>(txt);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a81027f8375717eee1bb54daff66815e9">drawTriangle</a>(22,70,88,222,268,68);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#af0a6a2efeb46d2cc59596ef8f7ce6a1f">drawRectangle</a>(300,33,400,222);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(500,111,75);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aff4f508f8d999be84552aff98d0a0e9b">drawLine</a>(600,32,800,222);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aa7c11a013c5c5ff81d49ada6ca9a6830">setTexture</a>(txt2);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aa715e5ff88da16558945a95d09bd6d8c">drawTriangleOutline</a>(22,70,88,222,268,68);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#ab9d89876e09084674aad67efae7faff7">drawRectangleOutline</a>(300,33,400,222);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aebcc999adf6be8c74cfb424dae6db587">drawCircleOutline</a>(500,111,75);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a0c8178e65849010a424ee9af8a994bae">moveView</a>(0,-300);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a81027f8375717eee1bb54daff66815e9">drawTriangle</a>(22,70,88,222,268,68);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#af0a6a2efeb46d2cc59596ef8f7ce6a1f">drawRectangle</a>(300,33,400,222);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(500,111,75);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#aff4f508f8d999be84552aff98d0a0e9b">drawLine</a>(600,32,800,222);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#ab19b498c827e8e73138c06e348e690ce">resetView</a>();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998">display</a>(); <span class="comment">// attēlojam uzzīmēto uz ekrāna</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="input"></a>
Ievad komandas un palīgkomandas</h2>
<p>Visas ievadfunkcijas atgriež pieprasīto stāvokli kāds tas bija pēdējajā <a class="el" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383" title="Atsvaidzina bibliotēku. ">kjpsgl::update()</a></p>
<p><b>Piemērs:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;kjpsGL.hpp&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacekjpsgl.html">kjpsgl</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="namespacekjpsgl.html#ae6175b179d3f2ffc572b879a8b0665c8">init</a>(1024,720);</div>
<div class="line">    <span class="keywordtype">int</span> color[] = {<a class="code" href="namespacekjpsgl.html#aabb9c0b418b0b3d2f86cb62b3b0a8ee8">randomInRange</a>(111,255),<a class="code" href="namespacekjpsgl.html#aabb9c0b418b0b3d2f86cb62b3b0a8ee8">randomInRange</a>(111,255),<a class="code" href="namespacekjpsgl.html#aabb9c0b418b0b3d2f86cb62b3b0a8ee8">randomInRange</a>(111,255)};</div>
<div class="line">    <span class="keywordtype">int</span> segments = 3;</div>
<div class="line">    <span class="keywordtype">int</span> x,y,r=64;</div>
<div class="line">    <span class="keywordtype">bool</span> rightDown;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// galvenais cikls</span></div>
<div class="line">    <span class="keywordflow">while</span> (!getKey(<span class="stringliteral">&quot;Escape&quot;</span>)) <span class="comment">// kamēr nav nospiesta escape poga</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a53c68365ef4f4ffa6f79ff695c8dc383">update</a>();</div>
<div class="line">        r += <a class="code" href="namespacekjpsgl.html#a7def8093754f51fbaa74940f891b704d">getMouseWheel</a>() * 16;</div>
<div class="line">        x = <a class="code" href="namespacekjpsgl.html#a0dc86004ab3bc1fbd3253b6b2a6b5875">getMouseX</a>();</div>
<div class="line">        y = <a class="code" href="namespacekjpsgl.html#a913ccde7c939fa1c34e4287dfe25907b">getMouseY</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="namespacekjpsgl.html#ad837b823002784acd162219b00b51b3c">getMouseButton</a>(1))<span class="comment">// ja nospieta kreisā peles poga</span></div>
<div class="line">        {</div>
<div class="line">            color[0]= <a class="code" href="namespacekjpsgl.html#aabb9c0b418b0b3d2f86cb62b3b0a8ee8">randomInRange</a>(0,255);</div>
<div class="line">            color[1]= <a class="code" href="namespacekjpsgl.html#aabb9c0b418b0b3d2f86cb62b3b0a8ee8">randomInRange</a>(0,255);</div>
<div class="line">            color[2]= <a class="code" href="namespacekjpsgl.html#aabb9c0b418b0b3d2f86cb62b3b0a8ee8">randomInRange</a>(0,255);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="namespacekjpsgl.html#ad837b823002784acd162219b00b51b3c">getMouseButton</a>(3)) <span class="comment">// ja nospieta labā peles poga</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (!rightDown)</div>
<div class="line">            {</div>
<div class="line">                segments++;</div>
<div class="line">                setWindowTitle(<span class="stringliteral">&quot;Segments: &quot;</span> + <a class="code" href="namespacekjpsgl.html#a7555605ebaa53f4786b4b7267bd4806f">toString</a>(segments));</div>
<div class="line">                rightDown = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">        }<span class="keywordflow">else</span> rightDown = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Zīmēšana:</span></div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a20758a6f9833df4588703b25300ecb8a">clearScreen</a>(color[0],color[1],color[2]);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a67452f65305694fe9044216a1f1f610a">setColor</a>(255-color[0],255-color[1], 255-color[2]);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a24b97777cd626b41a5cfe9a867c4eb45">drawCircle</a>(x,y,r,segments);</div>
<div class="line">        <a class="code" href="namespacekjpsgl.html#a48aaec112b9ffc7109d9be7e7f46f998">display</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// manuāli panākam 24 kadrus sekundē</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> fps = 24;</div>
<div class="line">        <span class="keywordtype">int</span> wait = int( ((1.0/fps) - <a class="code" href="namespacekjpsgl.html#a2e3652632f719b0f989f50dc111fa231">getDeltaTime</a>())*1000);</div>
<div class="line">        <span class="keywordflow">if</span> (wait&gt;0) <a class="code" href="namespacekjpsgl.html#a238757a801479cedbad23652557dbcbd">sleep</a>(<span class="keywordtype">unsigned</span>(wait));</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="advancedDrawing"></a>
Advancētās zīmēšanas komandas drawArrays()</h2>
<p>Draw array uzzīmē atiecīgos masīvus (std::vektorus) izmantojot opengl vertex arrays. Visas draw...() funkcijas uzģenerē trijstūrus vai četrstūru mesh un tos zīmē ar šīm funkcijām. Ar šīm funkcijām iespējama pilna kontrole par uv (tekstūras) kordinatēm un vertex colors. Funkciju pielietojumu skatīt kjpsGL.cpp kādā no draw funkcijām. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Ģenerēts Sest Okt 18 2014 22:41:39 projektam KjpsGL ar &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
